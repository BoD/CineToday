<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <import type="org.jraf.android.cinetoday.util.ui.ScreenShapeHelper" />

        <variable
            name="movie"
            type="org.jraf.android.cinetoday.app.movie.details.MovieViewModel" />

    </data>

    <FrameLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:animateLayoutChanges="true">

        <!-- Loading indicator -->
        <ProgressBar
            android:id="@+id/pgbLoading"
            style="?android:attr/progressBarStyleLarge"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center" />

        <!-- Movie details -->
        <ScrollView
            android:id="@+id/conMovie"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:fillViewport="true"
            android:visibility="gone"
            tools:visibility="visible">

            <LinearLayout
                android:id="@+id/conMovieDetails"
                style="@style/movieDetails"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:paddingBottom="@{ScreenShapeHelper.get().safeMargin * 1.5F + @dimen/movie_details_padding_vertical}"
                android:paddingLeft="@{ScreenShapeHelper.get().safeMargin / 2F + @dimen/movie_details_padding_horizontal}"
                android:paddingRight="@{ScreenShapeHelper.get().safeMargin / 2F + @dimen/movie_details_padding_horizontal}"
                android:paddingTop="@{ScreenShapeHelper.get().safeMargin * 1.5F + @dimen/movie_details_padding_vertical}"
                tools:paddingBottom="40dp"
                tools:paddingTop="40dp">

                <!-- Title -->
                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@{movie.titleLocal}"
                    style="@style/Movie.Details.Title"
                    tools:text="Star Wars Episode VII: The Force Awakens" />

                <!-- Directors -->
                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="4dp"
                    style="@style/Movie.Details.Field"
                    app:textHtml="@{@string/movie_card_directors(movie.directors)}"
                    app:visible="@{movie.directors}"
                    tools:text="By JJ Abrahms" />

                <!-- Genres -->
                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="2dp"
                    android:text="@{movie.genresFormatted}"
                    style="@style/Movie.Details.Field"
                    android:textStyle="italic"
                    app:visible="@{movie.genres}"
                    tools:text="Thriller" />

                <!-- Actors -->
                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="2dp"
                    style="@style/Movie.Details.Field"
                    app:textHtml="@{@string/movie_card_actors(movie.actors)}"
                    app:visible="@{movie.actors}"
                    tools:text="With Daisy Railey, John Boyega, Mark Hamill" />

                <!-- Synopsis -->
                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="4dp"
                    android:breakStrategy="high_quality"
                    android:hyphenationFrequency="full"
                    android:text="@{movie.synopsis}"
                    style="@style/Movie.Details.Field.Synopsis"
                    tools:text="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean in augue eu sem feugiat rutrum. Nam volutpat dolor arcu, sit amet ornare augue rutrum sit amet. Vestibulum congue, nisi non placerat dictum, justo neque fringilla nibh, eu sagittis lacus sapien sit amet lectus. Morbi sed ullamcorper est. Aliquam tempus, sem at cursus molestie, turpis lectus ultricies felis, non condimentum urna quam ac lectus. Vestibulum turpis tellus, commodo cursus tempor a, venenatis at ligula" />

                <!-- Duration -->
                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="4dp"
                    style="@style/Movie.Details.Field"
                    app:textHtml="@{@string/movie_card_duration(movie.durationFormatted)}"
                    tools:text="Duration: 1h43" />

                <!-- Original title -->
                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="2dp"
                    style="@style/Movie.Details.Field"
                    android:textColor="?android:textColorSecondary"
                    app:textHtml="@{@string/movie_card_originalTitle(movie.titleOriginal)}"
                    app:visible="@{!movie.titleLocal.equals(movie.titleOriginal)}"
                    tools:text="Original title: Star Wars Episode VII: The Force Awakens" />

            </LinearLayout>

        </ScrollView>
    </FrameLayout>
</layout>